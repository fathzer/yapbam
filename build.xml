<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project default="build" name="Create Runnable Jar for Yapbam project">
	<property name="yapbamVersion" value="0.2.2"/>
	<tstamp><format property="TODAY" pattern="dd/MM/yyyy" locale="fr,FR"/></tstamp>
	
	<target name="build">
		<echo message="version=${yapbamVersion} (${TODAY})" file="src/version.txt"/>
		<delete dir="releaseCompile"/>
		<mkdir dir="releaseCompile"/>
		  <copy todir="releaseCompile">
		    <fileset dir="src">
		      <exclude name="**/*.java"/>
		    </fileset>
		  </copy>
		<javac srcdir="src" destdir="releaseCompile" target="1.6" encoding="ISO8859-1"/>
		<javac srcdir="srcLauncher" destdir="releaseCompile" target="1.3" encoding="ISO8859-1"/>
		<jar destfile="yapbam.jar">
			<manifest>
				<attribute name="Main-Class" value="net.yapbam.ihm.Launcher"/>
				<attribute name="SplashScreen-Image" value="net/yapbam/ihm/images/splash.png"/>
			</manifest>
			<fileset dir="releaseCompile"/>
		</jar>
	</target>
</project>
